# 2013. [Обнаружение Квадратов (Detect Squares)](https://leetcode.com/problems/detect-squares/description/)

`Medium`

Вам дан поток точек на плоскости X-Y. Разработайте алгоритм, который:

*   **Добавляет** новые точки из потока в структуру данных. **Дублирующиеся** точки разрешены и должны рассматриваться как разные точки.
*   Для данной точки запроса **подсчитывает** количество способов выбора трех точек из структуры данных так, чтобы эти три точки и точка запроса образовывали **осесимметричный квадрат** с **положительной площадью**.

**Осесимметричный квадрат** — это квадрат, все четыре ребра которого имеют одинаковую длину и параллельны или перпендикулярны оси x и оси y.

Реализуйте класс `DetectSquares`:

*   `DetectSquares()` Инициализирует объект пустой структурой данных.
*   `void add(int[] point)` Добавляет новую точку `point = [x, y]` в структуру данных.
*   `int count(int[] point)` Подсчитывает количество способов сформировать осесимметричные квадраты с точкой `point = [x, y]`, как описано выше.

**Пример 1:**\
![](https://assets.leetcode.com/uploads/2021/09/01/image.png)
```
Input
["DetectSquares", "add", "add", "add", "count", "add", "count"]
[[], [[3, 10]], [[11, 2]], [[3, 2]], [[11, 10]], [[11, 2]], [[11, 10]]]
Output
[null, null, null, null, 1, null, 2]

Explanation
DetectSquares detectSquares = new DetectSquares();
detectSquares.add([3, 10]);
detectSquares.add([11, 2]);
detectSquares.add([3, 2]);
detectSquares.count([11, 10]); // return 1. Вы можете выбрать:
//  - Первую, вторую и третью точки
detectSquares.count([14, 8]);  // return 0. Точка запроса не может образовать квадрат ни с какими точками в структуре данных.
detectSquares.add([11, 2]);    // Добавление дублирующихся точек разрешено.
detectSquares.count([11, 10]); // return 2. Вы можете выбрать:
//  - Первую, вторую и третью точки
//  - Первую, третью и четвертую точки
```

**Ограничения:**

*   `point.length == 2`
*   0 ≤ x, y ≤ 1000
*   Будет сделано не более 3000 вызовов к `add` и `count` в общей сложности.