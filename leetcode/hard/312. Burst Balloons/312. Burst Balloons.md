# 312. [Лопнуть Шары (Burst Balloons)](https://leetcode.com/problems/burst-balloons/description/)

`Hard`

Вам дано `n` шаров, проиндексированных от `0` до `n - 1`. Каждый шар окрашен числом, представленным массивом `nums`. Вас просят лопнуть все шары.

Если вы лопнете `i`-й шар, вы получите `nums[i - 1] * nums[i] * nums[i + 1]` монет. Если `i - 1` или `i + 1` выходят за пределы массива, то считайте, что там есть шар с нарисованной на нем `1`.

Верните максимальное количество монет, которое вы можете собрать, лопая шары разумно.

**Пример 1:**
```
Input: nums = [3,1,5,8]
Output: 167
Explanation:
nums = [3,1,5,8] --> [3,5,8] --> [3,8] --> [8] --> []
coins = 3*1*5    +   3*5*8   +  1*3*8  + 1*8*1 = 167
```

**Пример 2:**
```
Input: nums = [1,5]
Output: 10
```

**Ограничения:**

*   `n == nums.length`
*   1 ≤ n ≤ 300
*   0 ≤ `nums[i]` ≤ 100